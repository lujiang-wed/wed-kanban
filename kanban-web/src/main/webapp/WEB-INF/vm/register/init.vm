#set($layout="inc\loginLayout.vm")
<div class="container">
    <!--登录页的图片可替换，暂时的  还未做图片-->
    <div class="container-fluid login-bg">
        <div class="row">
            <div class="span5 text-left offset7">
                <div class="loginBox">
                    <h4>Coach-让敏捷更敏捷</h4>
                    <form class="form-horizontal loginForm" name="loginForm" id="loginForm" enctype="multipart/form-data" action="/register" method="POST">
                        <div class="control-group">
                            <div class="input-prepend" style="color: #6dbfff"><span class="add-on"><i class="icon-user"></i>用户ID</span>
                                <input class="input-large" id="inputUser" name="userId" value="" type="text"></div>
                        </div>
                        <div class="control-group">
                            <div class="input-prepend"style="color: #6dbfff"><span class="add-on"><i class="icon-user"></i>用户姓名</span>
                                <input class="input-large" id="inputName" name="userName" type="text" value=""></div>
                        </div>
                        <div class="control-group">
                            <div class="input-prepend"style="color: #6dbfff"><span class="add-on"><i class="icon-lock"></i>密码</span>
                                <input class="input-large" id="inputPwd" name="userPwd" type="password" value=""></div>
                        </div>
                        <div class="control-group">
                            <div class="input-prepend"style="color: #6dbfff"><span class="add-on"><i class="icon-lock"></i>确认密码</span>
                                <input class="input-large" id="confirmPwd" name="confirmPwd" type="password" value=""></div>
                        </div>

##                        <div class="control-group">
##                            <div class="input-prepend"><span class="add-on"><i class="icon-lock"></i>密码</span>
##                                <input class="input-large" id="inputPwd" name="userPwd" type="password" value=""></div>
##                        </div>
##                        <input type="submit" class="btn btn-primary" value="注 册" onclick=alert("ok")>
                        <input type="button" class="btn btn-primary" value="注 册" onclick = "ajaxData()">
                    </form>
                </div>

            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    //定义方法
    function ajaxData(){
        //这个是获取input数据，$("#inputUser")表示获取id为inputUser的input
        var id=$("#inputUser").val();
        var name=$("#inputName").val();
        var pwd=$("#inputPwd").val();
        var confirmpwd=$("#confirmPwd").val();
        if(confirmpwd != pwd)
        {
            alert("两次输入密码不一致!");
            return;
        }
        var url="/checkUser";
        $.ajax({
                url:url,
                type:"POST",
                data:{userId:id,userName:name,userPwd:pwd},
                dataType:"text",
                success:function(data){
                    //这里是执行程序之后的操作
                    //alert(data);
                    if(data == "EXIST") {
                       alert("用户已存在");
                        return;
                    }
                }
    }
        );
        document.getElementById("loginForm").submit();
    }

</script>