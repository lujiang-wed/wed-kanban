<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>common页</title>
    <link rel="stylesheet" href="../bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../bootstrap/css/bootstrap-responsive.min.css">
    <link rel="stylesheet" href="css/common.css">
    <script type="text/javascript" src="../js/jquery-1.7.2.min.js"></script>
    <script type="text/javascript" src="../bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/common.js"></script>
    <script type="text/javascript" src="js/model.js"></script>
</head>
<body>
<div class="container-fluid">
    <div class="navbar navbar-fixed-top navbar-inner">
        <div class="container-fluid">
            <a class="brand" href="">Coach</a>

            <div class="nav-collapse collapse">
                <ul class="nav" style="float: right">
                    <li><a href="modelSet.html">空间设置</a></li>
                    <li><a href="login.html">登录</a></li>
                    <li><a href="#">退出</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>


<div class="container-fluid">
<div class="row">
<div class="span3">
    <ul class="nav nav-list sidenav">
        <li><a href="create.html" id="createSpace">创建空间</a></li>

        <!--        <li><a href="#" id="spaceList">空间列表</a>

                    <ul class="nav nav-list second-list hide" >
                        <li><a id="list1">16 yy</a>
                            <ul class="nav nav-list third-list hide" id="th-list1">
                                <li><a id="list1-1">24 yyyyy</a></li>
                            </ul>
                        </li>
                        <li><a id="list2">22 yyyy</a></li>
                        <li><a id="list3">23 yyyy</a></li>
                        <li><a id="list4">31 A</a>
                            <ul class="nav nav-list third-list hide">
                                <li><a id="list4-1">32 B</a></li>
                                <li><a id="list4-2">33 C</a></li>
                            </ul>
                        </li>
                        <li><a id="list5">37 M</a>
                            <ul class="nav nav-list third-list hide">
                                <li><a id="list5-1">38 N</a></li>
                                <li><a id="list5-2">39 O</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>-->

        <li id="spaceMenu"><a href="#" id="spaceList">空间列表</a>

            <ul class="nav nav-list second-list hide" style="display: block;">
                <li><a id="list1">16 yy</a>
                    <ul class="nav nav-list third-list hide" id="th-list1">
                        <li><a id="list1-1">24 yyyyy</a></li>
                    </ul>
                </li>
                <li><a id="list2">22 yyyy</a></li>
                <li><a id="list3">23 yyyy</a></li>
                <li><a id="list4">31 A</a>
                    <ul class="nav nav-list third-list hide" id="th-list4">
                        <li><a id="list4-1">32 B</a></li>
                        <li><a id="list4-2">33 C</a></li>
                    </ul>
                </li>
                <li><a id="list5">37 M</a>
                    <ul class="nav nav-list third-list hide" id="th-list5">
                        <li><a id="list5-1">38 N</a></li>
                        <li><a id="list5-2">39 O</a></li>
                    </ul>
                </li>
            </ul>
        </li>

        <!--        <li><a href="#" id="spaceList">空间列表</a>
                    &lt;!&ndash;下面的ul是第二级 &ndash;&gt;
            <ul class="nav nav-list second-list hide">
                <li><a id="list1" href="#">list1</a>
                &lt;!&ndash;第三级 加载数据后 用js动态添加节点 并以后面加数字的方式设置不同的ul id&ndash;&gt;
                        <ul class="nav nav-list third-list hide" id="th-list1">
                            <li><a href="#">list1-1</a></li>
                            <li><a href="#">list1-2</a></li>
                        </ul>
                <li><a id="list2" href="#">list2</a></li>
            </ul>
        </li>-->

    </ul>
</div>
<div class="span10">
    <ul class="nav nav-tabs">
        <li class="active"><a href="#card" data-toggle="tab">卡片列表</a></li>
        <li><a href="#detail" data-toggle="tab">空间详情</a>
        <li class="dropdown">
            <a class="dropdown-toggle" id="dLabel" role="button" data-toggle="dropdown" data-target="#"
               href="#">
                模板设置<b class="caret"></b>
            </a>
            <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                <li><a href="#createModel" data-toggle="tab">创建模板</a></li>
                <li><a href="#modelList" data-toggle="tab">现有模板</a></li>
            </ul>
        </li>
        <li><a href="#auth" data-toggle="tab">权限设置</a></li>
    </ul>
    <div class="tab-content">
        <div class="tab-pane active" id="card">
            <form class="form-search text-center" name="searchForm" id="searchForm">
                <div class="input-append">
                    <input type="text" class="input-xlarge search-query">
                    <input type="submit" class="btn" value="搜 索">
                </div>
            </form>
            <div class="text-right span9">
                <input type="submit" value="保存添加" class="btn btn-primary">
            </div>
            <table class="table table-bordered span9">
                <thead>
                <tr>
                    <th>编号</th>
                    <th>标题</th>
                    <th>状态</th>
                    <th>选择模板
                    <th>创建时间</th>
                    <th>创建人</th>
                    </th>
                    <th>最后修改人</th>
                    <th>最后修改时间</th>
                    <th>操作</th>
                </tr>
                </thead>
                <tbody id="cardTable">
                <tr>
                    <td>1</td>
                    <td>申诉优化</td>
                    <td>待开发</td>
                    <td><select style="width: 100px">
                        <option>模板1-story</option>
                    </select></td>
                    <td>2014.12.20</td>
                    <td>俊峰</td>
                    <td>嘉伟</td>
                    <td>2014.12.21</td>
                    <td>[<a href="#editCard" data-toggle="modal">编辑</a>]
                        [<a href="#delete" name="delete">删除</a>]
                    </td>
                </tr>

                </tbody>
            </table>
            <div class="span7 add-border offset1 text-center" id="addCardBtn">
                <i class="icon-plus"></i></div>
        </div>

        <div class="tab-pane" id="detail">
            <form class="form-horizontal" name="spaceDetail">
                <div class="control-group">
                    <label class="control-label">空间名称：</label>

                    <div class="controls"><input class="input-xxlarge" type="text" id="inputName" value="list1">
                    </div>
                </div>
                <div class="control-group">
                    <label class="control-label">空间标志：</label>

                    <div class="controls"><input class="input-xxlarge" type="text" id="inputSign"
                                                 value="list1标志"></div>
                </div>
                <div class="control-group">
                    <label class="control-label">所属空间：</label>

                    <div class="controls"><select class="input-xxlarge" id="subSpace">
                        <option>list1</option>
                    </select></div>
                </div>
                <div class="control-group">
                    <label class="control-label">描述：</label>

                    <div class="controls"><textarea rows="5" class="input-xxlarge" type="text" id="inputDes">list1
                        描述</textarea></div>
                </div>
            </form>
            <div class="text-center">
                <button class="btn btn-primary" id="saveBtn">保 存</button>
                <button class="btn btn-primary" id="deleteBtn">删 除</button>
            </div>
        </div>

        <!--创建模板的content-->
        <div class="tab-pane" id="createModel">
            <div class="span6">
                <form class="form-horizontal">
                    <div class="control-group">
                        <label class="control-label">模板名称：</label>

                        <div class="controls"><input type="text" value="" name="modelName"></div>
                    </div>
                </form>
            </div>
            <div class="span3">
                <p>模板控件</p>

                <div class="alert alert-info">
                    <button type="button" class="dialog-close" data-dismiss="alert">&times;</button>
                    <strong>提示! </strong><br>请根据需要任意选择下列中的模板控件，添加到您创建的空间模板中。
                </div>
                <div class="text-center" id="customedBox">
                    <div class="add-border" id="select">下拉框</div>
                    <div class="add-border" id="checkBox">复选按钮：checkBox</div>
                    <div class="add-border" id="richText">富文本编辑：Ueditor</div>
                    <div class="add-border" id="singleText">单行文本</div>
                    <div class="add-border" id="textarea">多行文本</div>
                </div>

            </div>
        </div>

        <!--展示模板列表以及修改模板的content-->
        <div class="tab-pane" id="modelList">
            <table class="table table-bordered span6">
                <thead>
                <tr>
                    <th width="20%">模板类型</th>
                    <th width="40%">描述</th>
                    <th width="20%">颜色</th>
                    <th width="20%">操作</th>
                </tr>
                </thead>
                <tbody contenteditable="true">
                <tr>
                    <td>story</td>
                    <td></td>
                    <td>蓝</td>
                    <td>[<a href="#editModel" data-toggle="modal">编辑</a>]
                        [<a href="#delete">删除</a>]
                    </td>
                </tr>
                </tbody>
            </table>

        </div>

        <div class="tab-pane" id="auth">
            <table class="table table-bordered span8">
                <thead>
                <tr>
                    <th>用户</th>
                    <th>权限</th>
                    <th>操作</th>
                </tr>
                </thead>
                <tbody id="spaceTable">
                <tr>
                    <td>wyyangyang</td>
                    <td>管理</td>
                    <td>删除</td>
                </tr>
                </tbody>
            </table>
            <div class="text-right">
                <button class="btn btn-primary" data-target="#addUser" data-toggle="modal">添加</button>
            </div>
        </div>
    </div>
</div>
</div>
</div>

<footer class="footer">
    <div class="text-center">
        <p><a href="#">网银在线</a><span>|</span><a href="#">关于我们</a><span>|</span><a href="#">京东商城</a></p>

        <p>copyright@2012-2015 www.hongxiujie.com, All Rights Reserved. 蜀备ICP备11008561-3</p>
    </div>
</footer>
<!--编辑模板详情-->
<div id="editModel" class="modal hide" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-header">
        <button data-dismiss="modal" aria-hidden="true" class="dialog-close">×</button>
        <h3>查看编辑模板</h3>
    </div>
    <div class="modal-body">
        <table class="table table-bordered">
            <thead>
            <tr>
                <th>名称</th>
                <th>类型</th>
                <th>顺序</th>
                <th>操作</th>
            </tr>
            </thead>
            <tbody id="cardModel">
            <tr>
                <td>迭代</td>
                <td><select>
                    <option>菜单1</option>
                </select></td>
                <td>1</td>
                <td>[<a href="#editModelInfo" data-toggle="modal">编辑</a>]
                    [<a href="#delete">删除</a>]
                </td>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" name="">保存</button>
        <button class="btn" aria-hidden="true" data-dismiss="modal">取消</button>
    </div>
</div>

<div id="editModelInfo" class="modal sec-model hide" tabindex="-2" role="dialog" aria-hidden="true">
    <div class="modal-header">
        <button data-dismiss="modal" aria-hidden="true" class="dialog-close">×</button>
        <h3>模板详情编辑</h3>
    </div>
    <div class="modal-body">
        <table class="table table-bordered">
            <thead>
            <tr>
                <th>名称</th>
                <th>颜色</th>
                <th>顺序</th>
                <th>操作</th>
            </tr>
            </thead>
            <tbody contenteditable="true">
            <tr>
                <td>需求池</td>
                <td>红</td>
                <td>1</td>
                <td><a href="#delete">删除</a></td>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" name="">保存</button>
        <button class="btn" aria-hidden="true" data-dismiss="modal">取消</button>
    </div>
</div>

<!--编辑卡片属性 弹出层-->
<div id="editCard" class="modal hide" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-header">
        <button data-dismiss="modal" aria-hidden="true" class="dialog-close">×</button>
        <h3>查看编辑卡片</h3>
    </div>
    <div class="modal-body">
        <form class="form-horizontal">
            <div class="control-group">
                <label class="control-label">标题：</label>

                <div class="controls"><input type="text" class="input-xlarge" value="${modal.value}"></div>
            </div>
            <div class="control-group">
                <label class="control-label">详细描述：</label>

                <div class="controls">
                    <textarea id="" rows="4" class="input-xlarge">${modal.value}</textarea>
                </div>
            </div>
            <div class="control-group">
                <label class="control-label">PM负责人：</label>

                <div class="controls"><input type="text" class="input-xlarge" value="${modal.value}"></div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" name="">保存</button>
        <button class="btn" aria-hidden="true" data-dismiss="modal">取消</button>
    </div>
</div>

<!--添加权限弹出框-->
<div id="addUser" class="modal hide fade" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-header">
        <button data-dismiss="modal" aria-hidden="true" class="dialog-close">×</button>
        <h3>添加权限</h3>
    </div>
    <div class="modal-body">
        <form class="form-horizontal" name="addUserForm">
            <div class="control-group">
                <label class="control-label" for="user">用户</label>

                <div class="controls"><input type="text" id="user"></div>
            </div>
            <div class="control-group">
                <label class="control-label">权限</label>

                <div class="controls"><select id="authSel">
                    <option>1</option>
                    <option>2</option>
                </select></div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" name="addUserFormSub">保存</button>
        <!--点击后 获取填写的信息 js中 -->
        <button class="btn" aria-hidden="true" data-dismiss="modal">取消</button>
    </div>
</div>
<script type="text/javascript">

    $(document).ready(function () {

        $("#addCardBtn").bind("click", function () {
            /*var newTd = $("tr:eq(1) td").clone();
             newTd.attr("contenteditable",true);
             newTd.appendTo("table");
             $("tr:last.td:lt(7)").text("");*/
            var newTr = "<tr><td contenteditable='true'></td>" +
                    "<td contenteditable='true'></td>" +
                    "<td><select style='width: 90px;margin: 0'><option>需求池</option><option>待开发</option>" +
                    "<option>开发中</option><option>待测试</option>" +
                    "<option>测试中</option><option>QA signOff</option>" +
                    "<option>已验收</option><option>已上线</option></select></td>" +
                    "<td><select style='width: 100px;margin: 0'><option>模板1-story</option></select></td>" +
                    "<td contenteditable='true'></td>" +
                    "<td contenteditable='true'></td>" +
                    "<td contenteditable='true'></td>" +
                    "<td contenteditable='true'></td>" +
                    "<td>[<a href='#editCard' data-toggle='modal'>编辑</a>] " +
                    "[<a href='#delete'>删除</a>]</td></tr>";

            $("#cardTable").append(newTr);
            /*$("tr:last td:lt(2)").attr("contenteditable",true);
             $("tr:last td:lt(8):gt(3)").attr("contenteditable",true);*/

        })
        /*节点操作
         $("#spaceList").click(function(){
         var presentNode = this.parentNode;
         var ul = document.createElement("ul");
         var li = document.createElement("li");
         var a = document.createElement("a");
         li.appendChild(a);
         a.appendChild(document.createTextNode("list 1"));
         ul.appendChild(li);
         presentNode.appendChild(ul);
         alert(presentNode.tagName);

         })*/

    })
</script>
</body>
</html>